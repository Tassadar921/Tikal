<ion-content>
  <ion-fab horizontal="end" vertical="bottom">
    <app-language></app-language>
  </ion-fab>
  <ion-fab horizontal="start" vertical="bottom">
    <ion-fab-button id="info" size="small" color="clear">
      <ion-icon name="help-circle-outline" color="medium" id="infoIcon"></ion-icon>
    </ion-fab-button>
  </ion-fab>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ion-item color="none" shape="round">
          <ion-label color="secondary"
                     position="floating">{{translationService.dictionary ? translationService.dictionary.account[4].data : ''}}</ion-label>
          <ion-input clearInput="true" color="secondary"
                     placeholder="{{translationService.dictionary ? translationService.dictionary.account[4].data : ''}}"
                     [(ngModel)]="username" minlength="3" maxlength="20" (ionChange)="checkUsername()"></ion-input>
          <ion-icon name="warning-outline" color="danger" *ngIf="outputUsername"></ion-icon>
          <p *ngIf="outputUsername" class="warningText">{{outputUsername}}</p>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-item color="none" shape="round">
          <ion-label color="secondary"
                     position="floating">{{translationService.dictionary ? translationService.dictionary.account[5].data : ''}}</ion-label>
          <ion-input clearInput="true" color="secondary"
                     placeholder="{{translationService.dictionary ? translationService.dictionary.account[5].data : ''}}"
                     type="email" [(ngModel)]="email" minlength="7" maxlength="50"
                     (ionChange)="checkEmail()"></ion-input>
          <ion-icon name="warning-outline" color="danger" *ngIf="outputEmail"></ion-icon>
          <p *ngIf="outputEmail" class="warningText">{{outputEmail}}</p>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-item color="none" shape="round">
          <ion-label color="secondary"
                     position="floating">{{translationService.dictionary ? translationService.dictionary.account[6].data : ''}}</ion-label>
          <ion-input clearInput="true" color="secondary"
                     placeholder="{{translationService.dictionary ? translationService.dictionary.account[6].data : ''}}"
                     [type]="checkingService.showPassword?'text':'password'" [(ngModel)]="checkingService.password"
                     (ionChange)="checkingService.checkPassword(checkingService.password)"
                     [style.background-color]="checkingService.arePasswordsOK?'':'rgba(132,42,42,0.51)'" minlength="7" maxlength="30">
          </ion-input>
          <ion-icon [name]="checkingService.showPassword?'eye':'eye-off'" (click)="checkingService.toggleShowPassword()" slot="end"></ion-icon>
          <ion-icon name="warning-outline" color="danger" *ngIf="checkingService.outputPassword"></ion-icon>
          <p *ngIf="checkingService.outputPassword" class="warningText">{{checkingService.outputPassword}}</p>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col>
        <ion-item color="none" shape="round">
          <ion-label color="secondary"
                     position="floating">{{translationService.dictionary ? translationService.dictionary.account[7].data : ''}}</ion-label>
          <ion-input clearInput="true" color="secondary"
                     placeholder="{{translationService.dictionary ? translationService.dictionary.account[7].data : ''}}"
                     [type]="checkingService.showConfPassword?'text':'password'" [(ngModel)]="checkingService.confPassword"
                     (ionChange)="checkingService.checkPassword(checkingService.confPassword, true)"
                     [style.background-color]="checkingService.arePasswordsOK?'':'rgba(132,42,42,0.51)'" minlength="7" maxlength="30">
          </ion-input>
          <ion-icon [name]="checkingService.showConfPassword?'eye':'eye-off'" (click)="checkingService.toggleShowConfPassword()" slot="end"></ion-icon>
          <ion-icon name="warning-outline" color="danger" *ngIf="checkingService.outputConfPassword"></ion-icon>
          <p *ngIf="checkingService.outputConfPassword" class="warningText">{{checkingService.outputConfPassword}}</p>
        </ion-item>
      </ion-col>
    </ion-row>
    <ion-row *ngIf="output">
      <ion-col>
        <p>{{output}}</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col *ngIf="username&&email&&checkingService.password&&checkingService.confPassword
               &&checkingService.password===checkingService.confPassword
               &&!waiting&&!outputUsername&&!checkingService.outputPassword
               &&!checkingService.outputConfPassword&&!outputEmail">
        <ion-icon name="send" color="success" size="large" (click)="signUp()"></ion-icon>
      </ion-col>
      <ion-col *ngIf="waiting">
        <ion-spinner name="lines"></ion-spinner>
      </ion-col>
    </ion-row>
  </ion-grid>
</ion-content>

<ion-modal trigger="info">
  <ng-template>
    <ion-content>
      <app-nomenclature></app-nomenclature>
    </ion-content>
  </ng-template>
</ion-modal>
